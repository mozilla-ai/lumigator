FROM python:3.11-slim

RUN pip install --no-cache-dir transformers huggingface_hub

# Ensure the cache directory exists (snapshot_download will create its own subfolders)
RUN mkdir -p /home/ray/.cache/huggingface/hub

COPY cache/download_models.py /tmp/download_models.py

RUN python /tmp/download_models.py

# Exit immediately (this containerâ€™s only job is to populate the cache)
CMD ["/bin/true"]
