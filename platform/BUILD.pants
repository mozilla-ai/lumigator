workdir = "/platform/infra/mzai/docker"

run_shell_command(
    name="docker_compose_config",
    command="/docker-compose.sh config",
    execution_dependencies=[
        "platform/infra/mzai/docker:docker_compose_shell_scripts",
    ],
    workdir=workdir,
)

run_shell_command(
    name="docker_compose_up",
    command="./docker-compose.sh up",
    execution_dependencies=[
        "platform/infra/mzai/docker:docker_compose_shell_scripts",
        "platform/python/mzai/backend:backend_image",
        "platform/python/mzai/jobrunner:ray_jobrunner_image",
    ],
    workdir=workdir,
)

run_shell_command(
    name="docker_compose_down",
    command="./docker-compose.sh down",
    execution_dependencies=[
        "platform/infra/mzai/docker:docker_compose_shell_scripts",
    ],
    workdir=workdir,
)
